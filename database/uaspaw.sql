-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Feb 23, 2023 at 02:42 PM
-- Server version: 10.4.24-MariaDB
-- PHP Version: 8.0.19

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `uaspaw`
--

-- --------------------------------------------------------

--
-- Table structure for table `agama`
--
-- Error reading structure for table uaspaw.agama: #1932 - Table 'uaspaw.agama' doesn't exist in engine
-- Error reading data for table uaspaw.agama: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`agama`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `buku`
--
-- Error reading structure for table uaspaw.buku: #1932 - Table 'uaspaw.buku' doesn't exist in engine
-- Error reading data for table uaspaw.buku: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`buku`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `detail_peminjaman`
--
-- Error reading structure for table uaspaw.detail_peminjaman: #1932 - Table 'uaspaw.detail_peminjaman' doesn't exist in engine
-- Error reading data for table uaspaw.detail_peminjaman: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`detail_peminjaman`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `detail_penerimaan`
--
-- Error reading structure for table uaspaw.detail_penerimaan: #1932 - Table 'uaspaw.detail_penerimaan' doesn't exist in engine
-- Error reading data for table uaspaw.detail_penerimaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`detail_penerimaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `detail_pengadaan`
--
-- Error reading structure for table uaspaw.detail_pengadaan: #1932 - Table 'uaspaw.detail_pengadaan' doesn't exist in engine
-- Error reading data for table uaspaw.detail_pengadaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`detail_pengadaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `detail_pengembalian`
--
-- Error reading structure for table uaspaw.detail_pengembalian: #1932 - Table 'uaspaw.detail_pengembalian' doesn't exist in engine
-- Error reading data for table uaspaw.detail_pengembalian: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`detail_pengembalian`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `goldarah`
--
-- Error reading structure for table uaspaw.goldarah: #1932 - Table 'uaspaw.goldarah' doesn't exist in engine
-- Error reading data for table uaspaw.goldarah: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`goldarah`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `jekel`
--
-- Error reading structure for table uaspaw.jekel: #1932 - Table 'uaspaw.jekel' doesn't exist in engine
-- Error reading data for table uaspaw.jekel: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`jekel`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `kabupaten`
--
-- Error reading structure for table uaspaw.kabupaten: #1932 - Table 'uaspaw.kabupaten' doesn't exist in engine
-- Error reading data for table uaspaw.kabupaten: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`kabupaten`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `kategori`
--
-- Error reading structure for table uaspaw.kategori: #1932 - Table 'uaspaw.kategori' doesn't exist in engine
-- Error reading data for table uaspaw.kategori: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`kategori`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `kecamatan`
--
-- Error reading structure for table uaspaw.kecamatan: #1932 - Table 'uaspaw.kecamatan' doesn't exist in engine
-- Error reading data for table uaspaw.kecamatan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`kecamatan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `kelurahan`
--
-- Error reading structure for table uaspaw.kelurahan: #1932 - Table 'uaspaw.kelurahan' doesn't exist in engine
-- Error reading data for table uaspaw.kelurahan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`kelurahan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `kewarganegaraan`
--
-- Error reading structure for table uaspaw.kewarganegaraan: #1932 - Table 'uaspaw.kewarganegaraan' doesn't exist in engine
-- Error reading data for table uaspaw.kewarganegaraan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`kewarganegaraan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `ktp`
--
-- Error reading structure for table uaspaw.ktp: #1932 - Table 'uaspaw.ktp' doesn't exist in engine
-- Error reading data for table uaspaw.ktp: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`ktp`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `ktpdetail`
--
-- Error reading structure for table uaspaw.ktpdetail: #1932 - Table 'uaspaw.ktpdetail' doesn't exist in engine
-- Error reading data for table uaspaw.ktpdetail: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`ktpdetail`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `laporan_shift`
--
-- Error reading structure for table uaspaw.laporan_shift: #1932 - Table 'uaspaw.laporan_shift' doesn't exist in engine
-- Error reading data for table uaspaw.laporan_shift: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`laporan_shift`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_buku`
--
-- Error reading structure for table uaspaw.log_buku: #1932 - Table 'uaspaw.log_buku' doesn't exist in engine
-- Error reading data for table uaspaw.log_buku: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_buku`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_pegawai`
--
-- Error reading structure for table uaspaw.log_pegawai: #1932 - Table 'uaspaw.log_pegawai' doesn't exist in engine
-- Error reading data for table uaspaw.log_pegawai: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_pegawai`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_peminjaman`
--
-- Error reading structure for table uaspaw.log_peminjaman: #1932 - Table 'uaspaw.log_peminjaman' doesn't exist in engine
-- Error reading data for table uaspaw.log_peminjaman: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_peminjaman`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_penerimaan`
--
-- Error reading structure for table uaspaw.log_penerimaan: #1932 - Table 'uaspaw.log_penerimaan' doesn't exist in engine
-- Error reading data for table uaspaw.log_penerimaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_penerimaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_pengadaan`
--
-- Error reading structure for table uaspaw.log_pengadaan: #1932 - Table 'uaspaw.log_pengadaan' doesn't exist in engine
-- Error reading data for table uaspaw.log_pengadaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_pengadaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_pengembalian`
--
-- Error reading structure for table uaspaw.log_pengembalian: #1932 - Table 'uaspaw.log_pengembalian' doesn't exist in engine
-- Error reading data for table uaspaw.log_pengembalian: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_pengembalian`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `log_shiff`
--
-- Error reading structure for table uaspaw.log_shiff: #1932 - Table 'uaspaw.log_shiff' doesn't exist in engine
-- Error reading data for table uaspaw.log_shiff: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`log_shiff`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `pegawai`
--
-- Error reading structure for table uaspaw.pegawai: #1932 - Table 'uaspaw.pegawai' doesn't exist in engine
-- Error reading data for table uaspaw.pegawai: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`pegawai`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `pekerjaan`
--
-- Error reading structure for table uaspaw.pekerjaan: #1932 - Table 'uaspaw.pekerjaan' doesn't exist in engine
-- Error reading data for table uaspaw.pekerjaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`pekerjaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `peminjaman`
--
-- Error reading structure for table uaspaw.peminjaman: #1932 - Table 'uaspaw.peminjaman' doesn't exist in engine
-- Error reading data for table uaspaw.peminjaman: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`peminjaman`' at line 1

--
-- Triggers `peminjaman`
--
DELIMITER $$
CREATE TRIGGER `delete_pinjam` AFTER DELETE ON `peminjaman` FOR EACH ROW INSERT INTO log_peminjaman 

VALUES(old.ID_PEMINJAMAN, old.ISBN_BUKU,old.TGL_PINJAM,old.TGL_KEMBALI,null,old.STATUS_PINJAM,old.STATUS_PERPANJANGAN,null,'DELETE_PEMINJAMAN',NOW())
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `update_pinjam` AFTER UPDATE ON `peminjaman` FOR EACH ROW INSERT INTO log_peminjaman VALUES(new.ID_PEMINJAMAN, new.ISBN_BUKU,new.TGL_PINJAM,new.TGL_KEMBALI,old.TGL_KEMBALI,new.STATUS_PINJAM,new.STATUS_PERPANJANGAN,old.STATUS_PERPANJANGAN,"UPDATE_PEMINJAMAN",NOW())
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `penerimaan`
--
-- Error reading structure for table uaspaw.penerimaan: #1932 - Table 'uaspaw.penerimaan' doesn't exist in engine
-- Error reading data for table uaspaw.penerimaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`penerimaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `pengadaan`
--
-- Error reading structure for table uaspaw.pengadaan: #1932 - Table 'uaspaw.pengadaan' doesn't exist in engine
-- Error reading data for table uaspaw.pengadaan: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`pengadaan`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `pengembalian`
--
-- Error reading structure for table uaspaw.pengembalian: #1932 - Table 'uaspaw.pengembalian' doesn't exist in engine
-- Error reading data for table uaspaw.pengembalian: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`pengembalian`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `pengunjung`
--
-- Error reading structure for table uaspaw.pengunjung: #1932 - Table 'uaspaw.pengunjung' doesn't exist in engine
-- Error reading data for table uaspaw.pengunjung: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`pengunjung`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `provinsi`
--
-- Error reading structure for table uaspaw.provinsi: #1932 - Table 'uaspaw.provinsi' doesn't exist in engine
-- Error reading data for table uaspaw.provinsi: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`provinsi`' at line 1

-- --------------------------------------------------------

--
-- Table structure for table `status_menikah`
--
-- Error reading structure for table uaspaw.status_menikah: #1932 - Table 'uaspaw.status_menikah' doesn't exist in engine
-- Error reading data for table uaspaw.status_menikah: #1064 - You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'FROM `uaspaw`.`status_menikah`' at line 1
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
